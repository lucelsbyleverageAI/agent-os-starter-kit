# Environment Configuration for Collection Transfer
#
# Database connection details for each environment.
# Passwords are NOT stored here - they come from environment variables.

environments:
  # Local development environment
  local:
    host: localhost
    port: 5432
    database: postgres
    user: postgres.1000  # Use tenant ID 1000 for Supavisor pooler
    # Password from env var: POSTGRES_PASSWORD or POSTGRES_PASSWORD_LOCAL
    description: "Local development database"

  # Staging environment (if you have one)
  staging:
    host: staging-db.example.com
    port: 5432
    database: postgres
    user: postgres
    # Password from env var: POSTGRES_PASSWORD_STAGING
    description: "Staging environment database"

  # Production environment (via SSH tunnel)
  production:
    host: localhost  # Connect through SSH tunnel (see tunnel_to_production.sh)
    port: 5433       # Local port that tunnels to production:5432
    database: postgres
    user: postgres
    # Password from env var: POSTGRES_PASSWORD_PRODUCTION
    # IMPORTANT: Before connecting, run tunnel_to_production.sh to open the SSH tunnel
    # The tunnel script may need updating with your production database container IP
    description: "Production database via SSH tunnel"

# Default environments for operations
defaults:
  source: local
  target: production
