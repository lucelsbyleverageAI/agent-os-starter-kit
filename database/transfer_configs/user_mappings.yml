# User Mapping Configuration for Collection Transfer
#
# Defines how to map user IDs between environments when importing collections.
# The primary method is email-based matching, with fallback to explicit UUID mappings.

# Email-based user mapping (PRIMARY METHOD)
# Users with the same email across environments will be automatically matched
email_mappings:
  # Example - uncomment and modify with your actual users:
  # - email: admin@company.com
  #   description: "Admin user"
  # - email: user@company.com
  #   description: "Regular user"

# Explicit UUID mappings (FALLBACK for edge cases)
# Use this when users have different emails across environments
# Format: "source_uuid": "target_uuid"
explicit_mappings:
  # Local to Production mappings
  local_to_production: {}
    # Example:
    # "abc-123-local-uuid": "xyz-789-prod-uuid"

  # Production to Local mappings
  production_to_local: {}
    # Example:
    # "xyz-789-prod-uuid": "abc-123-local-uuid"

  # Staging mappings (if applicable)
  local_to_staging: {}
  staging_to_production: {}

# Default owner for each environment
# When a user doesn't exist in the target environment, permissions will be granted to this user
# IMPORTANT: Replace these with your actual admin emails for each environment
default_owners:
  local: "admin@yourcompany.com"        # Replace with your local admin email
  staging: "admin@yourcompany.com"      # Replace with your staging admin email
  production: "admin@yourcompany.com"   # Replace with your production admin email

# Permission handling strategy
permission_strategy:
  # What to do when a user from source doesn't exist in target
  # Options:
  #   - "assign_to_default_owner": Grant permission to default_owner (recommended)
  #   - "skip": Skip this permission entirely
  #   - "fail": Abort import if any user is missing
  missing_user_action: "assign_to_default_owner"

  # Whether to preserve the original permission level or promote to owner
  # If true: viewer stays viewer, editor stays editor, owner stays owner
  # If false: all permissions become "owner" (useful for default_owner fallback)
  preserve_permission_levels: true

  # Skip system-granted permissions (granted_by starts with "system:")
  # System permissions will be re-created automatically by triggers
  skip_system_permissions: true
